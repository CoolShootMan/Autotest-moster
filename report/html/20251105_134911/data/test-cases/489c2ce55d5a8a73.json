{"uid":"489c2ce55d5a8a73","name":"测试执行","fullName":"test_case.UI.Test_Katana.test_ui#test_case","historyId":"fe2668930e4b894026a956a0b4c4c43e","time":{"start":1762321751676,"stop":1762321751676,"duration":0},"status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: 'cookie_release.json'","statusTrace":"browser = <Browser type=<BrowserType name=chromium executable_path=C:\\Users\\tester\\AppData\\Local\\ms-playwright\\chromium-1187\\chrome-win\\chrome.exe> version=140.0.7339.16>\nbrowser_context_args = {'default_browser_type': 'webkit', 'device_scale_factor': 3, 'has_touch': True, 'is_mobile': True, ...}\npytestconfig = <_pytest.config.Config object at 0x0000021B01F30E20>\nrequest = <SubRequest 'context' for <Function test_case[smokecases10-chromium]>>\n\n    @pytest.fixture(scope=\"session\")\n    def context(\n        browser: Browser,\n        browser_context_args: Dict,\n        pytestconfig: Any,\n        request: pytest.FixtureRequest,\n    ) -> Generator[BrowserContext, None, None]:\n        pages: List[Page] = []\n>       context = browser.new_context(storage_state=\"cookie_release.json\", **browser_context_args)\n\nD:\\project\\autotest-monster\\test_case\\UI\\Test_Katana\\conftest.py:60: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nD:\\Program Files\\lib\\site-packages\\playwright\\sync_api\\_generated.py:13969: in new_context\n    self._sync(\nD:\\Program Files\\lib\\site-packages\\playwright\\_impl\\_browser.py:169: in new_context\n    await self._browser_type._prepare_browser_context_params(params)\nD:\\Program Files\\lib\\site-packages\\playwright\\_impl\\_browser_type.py:317: in _prepare_browser_context_params\n    (await async_readfile(storageState)).decode()\nD:\\Program Files\\lib\\site-packages\\playwright\\_impl\\_helper.py:537: in async_readfile\n    return await loop.run_in_executor(None, inner)\nD:\\Program Files\\lib\\concurrent\\futures\\thread.py:58: in run\n    result = self.fn(*self.args, **self.kwargs)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    def inner() -> bytes:\n>       with open(file, \"rb\") as fh:\nE       FileNotFoundError: [Errno 2] No such file or directory: 'cookie_release.json'\n\nD:\\Program Files\\lib\\site-packages\\playwright\\_impl\\_helper.py:533: FileNotFoundError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1762321751677,"stop":1762321751742,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1762321751742,"stop":1762321751743,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1762321751743,"stop":1762321752307,"duration":564},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1762321751743,"stop":1762321751743,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1762321751743,"stop":1762321751743,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1762321751743,"stop":1762321751743,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1762321751743,"stop":1762321751743,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1762321752308,"stop":1762321752308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1762321752308,"stop":1762321752308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1762321752308,"stop":1762321752712,"duration":404},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connect_options","time":{"start":1762321752308,"stop":1762321752308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1762321752712,"stop":1762321752713,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1762321752713,"stop":1762321752714,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1762321752714,"stop":1762321752714,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1762321752714,"stop":1762321752716,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1762321752716,"stop":1762321752726,"duration":10},"status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: 'cookie_release.json'\n","statusTrace":"  File \"D:\\Program Files\\lib\\site-packages\\pluggy\\_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"D:\\Program Files\\lib\\site-packages\\_pytest\\fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"D:\\Program Files\\lib\\site-packages\\_pytest\\fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n  File \"D:\\project\\autotest-monster\\test_case\\UI\\Test_Katana\\conftest.py\", line 60, in context\n    context = browser.new_context(storage_state=\"cookie_release.json\", **browser_context_args)\n  File \"D:\\Program Files\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 13969, in new_context\n    self._sync(\n  File \"D:\\Program Files\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"D:\\Program Files\\lib\\site-packages\\playwright\\_impl\\_browser.py\", line 169, in new_context\n    await self._browser_type._prepare_browser_context_params(params)\n  File \"D:\\Program Files\\lib\\site-packages\\playwright\\_impl\\_browser_type.py\", line 317, in _prepare_browser_context_params\n    (await async_readfile(storageState)).decode()\n  File \"D:\\Program Files\\lib\\site-packages\\playwright\\_impl\\_helper.py\", line 537, in async_readfile\n    return await loop.run_in_executor(None, inner)\n  File \"D:\\Program Files\\lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"D:\\Program Files\\lib\\site-packages\\playwright\\_impl\\_helper.py\", line 533, in inner\n    with open(file, \"rb\") as fh:\n","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"_pw_artifacts_folder::0","time":{"start":1762321753177,"stop":1762321753177,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1762321753178,"stop":1762321753261,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1762321753263,"stop":1762321753273,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"test_case.UI.Test_Katana"},{"name":"suite","value":"test_ui"},{"name":"host","value":"DESKTOP-TAHPJA0"},{"name":"thread","value":"31652-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_case.UI.Test_Katana.test_ui"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"},{"name":"smokecases1","value":"{'testT3370': {'description': 'Verify set the product card alignment at the store level', 'test_step': {'open': 'https://release.pear.us/demi-release', 'goto_storefront_top_aligned': {'url': 'https://release.pear.us/storefront-modules#Storefront', 'timeout': 90000}, 'check_label_top_aligned': {'label': 'Top aligned', 'timeout': 60000}, 'publish_button_click_top_aligned': {}, 'verify_navigation_after_publish_top_aligned': {'url_regex': 'https://release.pear.us/demi-release', 'timeout': 70000, 'warning_message': 'Shop page redirect after publish timed out (stuck in loading). Directly navigating to Storefront.', 'fallback_url': 'https://release.pear.us/storefront-modules#Storefront', 'fallback_timeout': 90000}, 'click_mui_svg_icon_top_aligned': {}, 'click_products_text_top_aligned': {}, 'wait_for_product_cards_top_aligned': {'index': 1, 'timeout': 60000}, 'verify_top_aligned_layout': {'timeout': 60000, 'screenshot_path': 'recordings/top_aligned_failure.png', 'threshold': 5}, 'goto_storefront_waterfall': {'url': 'https://release.pear.us/storefront-modules#Storefront', 'timeout': 90000}, 'check_label_waterfall': {'label': 'Waterfall', 'timeout': 60000}, 'publish_button_click_waterfall': {}, 'verify_navigation_after_publish_waterfall': {'url_regex': 'https://release.pear.us/demi-release', 'timeout': 70000, 'warning_message': 'Shop page redirect after publish timed out (stuck in loading). Directly navigating to Storefront.', 'fallback_url': 'https://release.pear.us/storefront-modules#Storefront', 'fallback_timeout': 90000}, 'click_mui_svg_icon_waterfall': {}, 'click_products_text_waterfall': {}, 'wait_for_product_cards_waterfall': {'index': 1, 'timeout': 60000}, 'verify_waterfall_layout': {'url_regex': 'https://release.pear.us/demi-release', 'timeout': 70000, 'warning_message': 'Shop page redirect after publish timed out (stuck in loading). Directly navigating to Storefront.', 'fallback_url': 'https://release.pear.us/storefront-modules#Storefront', 'fallback_timeout': 90000, 'wait_for_timeout': 1500, 'wait_for_cards_timeout': 60000}}, 'expect_result': {'description': 'Product card alignment should be verified for both Top aligned and Waterfall layouts.', 'assertions': [{'assertion_type': 'top_aligned_layout', 'selector': 'div.MuiBox-root[data-index]', 'threshold': 5}, {'assertion_type': 'waterfall_layout', 'selector': 'div.MuiBox-root[data-index]'}]}}}"}],"links":[{"name":"ONS测试用例链接","url":"https://ones.cn/project/#/testcase/team/T7u1zXum/plan/QCuFwDdq/library/XcAFFViB/module/6mi4qiVp","type":"tms"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"489c2ce55d5a8a73.json","parameterValues":["'chromium'","{'testT3370': {'description': 'Verify set the product card alignment at the store level', 'test_step': {'open': 'https://release.pear.us/demi-release', 'goto_storefront_top_aligned': {'url': 'https://release.pear.us/storefront-modules#Storefront', 'timeout': 90000}, 'check_label_top_aligned': {'label': 'Top aligned', 'timeout': 60000}, 'publish_button_click_top_aligned': {}, 'verify_navigation_after_publish_top_aligned': {'url_regex': 'https://release.pear.us/demi-release', 'timeout': 70000, 'warning_message': 'Shop page redirect after publish timed out (stuck in loading). Directly navigating to Storefront.', 'fallback_url': 'https://release.pear.us/storefront-modules#Storefront', 'fallback_timeout': 90000}, 'click_mui_svg_icon_top_aligned': {}, 'click_products_text_top_aligned': {}, 'wait_for_product_cards_top_aligned': {'index': 1, 'timeout': 60000}, 'verify_top_aligned_layout': {'timeout': 60000, 'screenshot_path': 'recordings/top_aligned_failure.png', 'threshold': 5}, 'goto_storefront_waterfall': {'url': 'https://release.pear.us/storefront-modules#Storefront', 'timeout': 90000}, 'check_label_waterfall': {'label': 'Waterfall', 'timeout': 60000}, 'publish_button_click_waterfall': {}, 'verify_navigation_after_publish_waterfall': {'url_regex': 'https://release.pear.us/demi-release', 'timeout': 70000, 'warning_message': 'Shop page redirect after publish timed out (stuck in loading). Directly navigating to Storefront.', 'fallback_url': 'https://release.pear.us/storefront-modules#Storefront', 'fallback_timeout': 90000}, 'click_mui_svg_icon_waterfall': {}, 'click_products_text_waterfall': {}, 'wait_for_product_cards_waterfall': {'index': 1, 'timeout': 60000}, 'verify_waterfall_layout': {'url_regex': 'https://release.pear.us/demi-release', 'timeout': 70000, 'warning_message': 'Shop page redirect after publish timed out (stuck in loading). Directly navigating to Storefront.', 'fallback_url': 'https://release.pear.us/storefront-modules#Storefront', 'fallback_timeout': 90000, 'wait_for_timeout': 1500, 'wait_for_cards_timeout': 60000}}, 'expect_result': {'description': 'Product card alignment should be verified for both Top aligned and Waterfall layouts.', 'assertions': [{'assertion_type': 'top_aligned_layout', 'selector': 'div.MuiBox-root[data-index]', 'threshold': 5}, {'assertion_type': 'waterfall_layout', 'selector': 'div.MuiBox-root[data-index]'}]}}}"]}